FROM golang:alpine

WORKDIR /src

COPY . .

RUN go mod tidy && go fmt ./...

ENV CGO_ENABLED=0

# Install CA certificates
RUN apk update && apk add --no-cache ca-certificates && update-ca-certificates

CMD ["go"]